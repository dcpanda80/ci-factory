<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://nant.sf.net/schemas/nant.xsd" name="Arguments">
  <!--Use Install.Package to install one or more Packages to an existing CI Factory Project.-->
  <property name="Install.Action" value="Install.Project" />
  <property name="ProjectName" value="AlternateNamingTestProject" />
	<property name="CCNet.LabelPrefix" value="1.0.0."/>
	<property name="InitialVersion" value="1.0.0.0"/>

  <property name="Common.Directory.ProjectsRoot.Path"        value="c:\Projects" overwrite="false"/>
  <property name="ProjectCodeLineName"      value="trunk" overwrite="false"/>
  <property name="Common.Directory.Product.Name"       value="src"/>
  <property name="Common.Directory.ThirdParty.Name"    value="lib"/>
  <property name="Common.Directory.Production.Name"    value="Production"/>
  <property name="Common.Directory.UnitTest.Name"    value="Unit Test"/>
  <property name="Common.Directory.Install.Name"     value="Install"/>

  <include buildfile="Properties.Install.xml"/>
  <property name="CCNET.ServerName" value="${environment::get-machine-name()}"/>
  <property name="CCNET.ServerPort" value="21246"/>
  <property name="CCNET.RestPort"   value="21247"/>
  <property name="CCNET.ModificationDelaySeconds" value="0"/>
  <property name="CCNET.IntervalTrigger" value="60"/>
  <property name="BuildMaster.Name" value="BuildMaster"/>
  <property name="BuildMaster.Email" value="fake@bogas.com"/>
  <property name="EmailHost"        value="127.0.0.1"/>

	<property name="NCover.ExePath" value="${environment::get-variable('ProgramFiles')}\NCover\NCover.Console.exe"/>
  <property name="NCover.Version" value="${file::get-version(NCover.ExePath)}"/>
  
  <property name="SVN.URI.Root" value="http://localhost:81/svn"  />
  <property name="SVN.URI.ProjectName" value="${SVN.URI.Root}/${ProjectName}" /><!--In a shared repo this might be "${SVN.URI.Root}/${ProjectName}"-->
  <property name="SVN.URI.ProjectCodeLine" value="${SVN.URI.ProjectName}/${ProjectCodeLineName}"/>
  <property name="SVN.URI.Tags" value="${SVN.URI.ProjectName}/tags" /><!--makes shure that the case is correct, Tags or tags-->

  <property name="SVN.WebRepositoryUrl" value="${SVN.URI.Root}"/>
  <property name="SVN.Credentials.SafeStorage" value="true"/><!--Set to true if you do not want the build users credentials stored in the repository for ?anyone? to see.-->
  <property name="SVN.Username" value="Build" />
  <property name="SVN.Password" value="password" />
  <property name="SVN.WebVisible" value="true" />

  <property name="Coverage.UnitTestPackageInclude" value="${Common.Directory.Packages.Path.Ref}\DotNetUnitTest\UnitTest.Targets.xml" />
  <property name="Coverage.UnitTestPropertiesInclude" value="${Common.Directory.Packages.Path.Ref}\DotNetUnitTest\UnitTest.Properties.xml" />

  <property name="Install.Quiet" value="true"/>
  <property name="Simian.AcceptLicense" value="true"/>
  <property name="nDepend.AcceptLicense" value="true"/>

  <strings id="Packages.InstallList">
    <string value="SourceModificationReport"/>
    <string value="CSDiff" />
    <string value="Subversion"/>
    <string value="Versioning"/>
    <string value="MSBuild" />
    <string value="NCover" />
    <string value="DotNetUnitTest"/>
    <string value="nDepend"/>
    <string value="Simian" />
    <string value="LinesOfCode"/>

    <string value="Publish"/>
    <string value="Workspace"/>
  </strings>

  <target name="Post.Install">
    <nant buildfile="${Common.Directory.Build.Path}\Scratch.build.xml" inheritall="false" inheritrefs="false" target="rebuild-setups" />
    <exec program="${Common.Directory.Build.Path}\UpdatenAntSchema.bat" workingdir="${Common.Directory.Build.Path}"/>
    
    <nant target="SourceControl.Repository.Load">
      <buildfiles>
        <include name="${Common.Directory.Packages.Path}\Subversion\SourceControl.Target.xml"/>
      </buildfiles>
    </nant>

    <nant buildfile="${Common.Directory.Build.Path}\SetupIIS.xml" inheritall="false" inheritrefs="false" />
  </target>

</project>